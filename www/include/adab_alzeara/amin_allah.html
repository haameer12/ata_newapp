<div class="inside_page">




	<div>
		<div class="inside_page_title" style="background-image:url(img/adab_title.png);">
			<span class="inside_page_loading"></span>
			<a href="#" onclick="$.afui.goBack();return false;">
				<span class="inside_page_back"></span>
			</a>
		</div>
		<div class="inside_page_content" id="adab_alzeara_content_page">

			<div class="nano">
				<div class="overthrow nano-content">		
			
			

					<div id="app-adab-alzeara-content">
					

					

					
					
						<h3 class="adab-alzeara-title">زيارة أمين الله</h3>
						<div class="adab-alzeara-text">
							
							
							
							
							
							<p><span style="color:#B22222">هي الزّيارة المعروفة بأمين الله وهي في غاية الاعتبار ومرويّة في جميع كتب الزّيارات والمصابيح وقال العلامة المجلسي (رحمه الله) انّها&nbsp;أحسن الزّيارات متناً وسَنداً وينبغي المُواظبة عليها في جَميع الرّوضات المقدّسة&nbsp;وَهي كما روي بأسناد معتبرة عن جابر عَنِ الباقر (عليه السلام) انّه زار الامام زين&nbsp;العابدين (عليه السلام) أمير المؤمنين (عليه السلام) فوقف عند القبر وبكى وقالَ:</span></p>

							<p>اَلسَّلامُ عَلَيْكَ يا اَمينَ اللهِ في اَرْضِهِ وَحُجَّتَهُ عَلى عِبادِهِ&nbsp;اَلسَّلامُ عَلَيْكَ يا اَميرَ الْمُؤْمِنينَ اَشْهَدُ اَنَّكَ جاهَدْتَ فِي اللهِ&nbsp;حَقَّ جِهادِهِ وَعَمِلْتَ بِكِتابِهِ وَاتَّبَعْتَ سُنَنَ نَبِيِّهِ صَلَّى اللهُ&nbsp;عَلَيْهِ وَآلِهِ حَتّى دَعاكَ&nbsp;اللهُ اِلى جِوارِهِ فَقَبَضَكَ اِلَيْهِ&nbsp;بِاخْتِيارِهِ وَاَلْزَمَ اَعْدآئَكَ الْحُجَّةَ مَعَ ما لَكَ مِنَ الْحُجَجِ&nbsp;الْبالِغَةِ عَلى جَميعِ خَلْقِهِ اَللّـهُمَّ فَاجْعَلْ نَفْسى مُطْمَئِنَّةً&nbsp;بِقَدَرِكَ راضِيَةً بِقَضآئِكَ مُولَعَةً بِذِكْرِكَ وَدُعآئِكَ مُحِبَّةً&nbsp;لِصَفْوَةِ&nbsp;اَوْلِيآئِكَ مَحْبُوبَةً فى اَرْضِكَ وَسَمآئِكَ صابِرَةً عَلى نُزُولِ&nbsp;بَلائِكَ شاكِرَةً لِفَواضِلِ نَعْمآئِكَ ذاكِرَةً لِسَوابِغِ آلائِكَ مُشْتاقَةً&nbsp;اِلى فَرْحَةِ لِقآئِكَ مُتَزَوِّدَةً التَّقْوى&nbsp;لِيَوْمِ جَزآئِكَ مُسْتَنَّةً&nbsp;بِسُنَنِ&nbsp;اَوْلِيآئِكَ مُفارِقَةً لاَِخْلاقِ اَعْدائِكَ مَشْغُولَةً عَنِ&nbsp;الدُّنْيا بِحَمْدِكَ وَثَنآئِكَ&nbsp;.</p>

							<p><span style="color:#B22222">ثمّ وَضع خدّه على القبر وَقال:</span></p>

							<p>اَللّـهُمَّ اِنَّ قُلُوبَ الْمُخْبِتينَ اِلَيْكَ والِهَةٌ وَسُبُلَ&nbsp;الرّاغِبينَ اِلَيْكَ شارِعَةٌ وَاَعْلامَ الْقاصِدينَ اِلَيْكَ واضِحَةٌ&nbsp;وَاَفْئِدَةَ الْعارِفينَ مِنْكَ فازِعَةٌ وَاَصْواتَ الدّاعينَ اِلَيْكَ صاعِدَةٌ&nbsp;وَاَبْوابَ الاِْجابَةِ لَهُمْ مُفَتَّحَةٌ وَدَعْوَةَ مَنْ ناجاكَ مُسْتَجابَةٌ&nbsp;وَتَوْبَةَ مَنْ اَنابَ اِلَيْكَ مَقْبُولَةٌ وَعَبْرَةَ مَنْ بَكى مِنْ خَوْفِكَ&nbsp;مَرْحُومَةٌ وَالاِْغاثَهَ&nbsp;لِمَنِ&nbsp;اسْتَغاثَ&nbsp;بِكَ مَوْجُودةٌ وَالاِْعانَةَ لِمَنِ&nbsp;اسْتَعانَ بِكَ مَبْذُولَةٌ وَعِداتِكَ لِعِبادِكَ مُنْجَزَةٌ وَزَلَلَ مَنِ&nbsp;اسْتَقالَكَ مُقالَةٌ وَاَعْمالَ الْعامِلينَ لَدَيْكَ مَحْفُوظَةٌ وَاَرْزاقَكَ&nbsp;اِلَى الْخَلائِقِ مِنْ لَدُنْكَ نازِلَةٌ وَعَوآئِدَ الْمَزيدِ اِلَيْهِمْ&nbsp;واصِلَةٌ وَذُنُوبَ الْمُسْتَغْفِرينَ مَغْفُورَةٌ وَحَوآئِجَ خَلْقِكَ عِنْدَكَ&nbsp;مَقْضِيَّةٌ وَجَوآئِزَ السّائِلينَ عِنْدَكَ مُوَفَّرَةٌ وَ عَوآئِدَ الْمَزيدِ&nbsp;مُتَواتِرَةٌ وَمَوآئِدَ الْمُسْتَطْعِمينَ مُعَدَّةٌ وَمَناهِلَ&nbsp;الظِّمآءِ&nbsp;مُتْرَعَةٌ اَللّـهُمَّ فَاسْتَجِبْ دُعآئى وَاقْبَلْ ثَنآئى وَاجْمَعْ بَيْنى&nbsp;وَبَيْنَ اَوْلِيآئى بِحَقِّ مُحَمَّد وَعَلِىّ وَفاطِمَةَ وَالْحَسَنِ&nbsp;وَالْحُسَيْنِ اِنَّكَ وَلِىُّ نَعْمآئى وَمُنْتَهى مُناىَ وَغايَةُ رَجائى فىمُنْقَلَبى وَمَثْواىَ&nbsp;.</p>

							<p><span style="color:#B22222">وقد ذكر في كتاب كامل الزّيارة هِذه الزّيارة بهذا القول:</span></p>

							<p>اَنْتَ اِلهى وَسَيِّدى وَمَوْلاىَ اغْفِرْ لاَِوْلِيآئِنا وَكُفَّ عَنّا&nbsp;اَعْدآئَنا وَاشْغَلْهُمْ عَنْ اَذانا وَاَظْهِرْ كَلِمَةَ الْحَقِّ وَاجْعَلْهَا&nbsp;الْعُلْيا وَاَدْحِضْ كَلِمَةَ الْباطِلَ وَاجْعَلْهَا السُّفْلى اِنَّكَ عَلى&nbsp;كُلِّ شَىءْ قَديرٌ&nbsp;.</p>

							<p><span style="color:#B22222">ثمّ قال الباقر (عليه السلام) ما قال هذا الكلام ولا دعى به أحد من شيعتنا&nbsp;عند قبر امير المؤمنين (عليه السلام) أو عند قبر أحد من الائمة (عليهم السلام) الاّ&nbsp;رفع دعاءه في درج مِن نور وطبع عليه بخاتم محمّد (صلى الله عليه وآله وسلم) وكان&nbsp;محفوظاً كذلك حتّى يسلّم الى قائم آل محمّد (عليهم السلام) فيلقى صاحبه بالبشرى&nbsp;والتّحيّة والكرامة ان شاء الله تعالى.</span></p>
							<br /><br /><br /><br /><br />


							
							
							
							
						</div>
						
						
						
						
						
						

					</div>



			
				</div>
			</div>
		
		
		
			
		</div>
	</div>




</div>








<script>
var temp_element;
var progress_bar_element;
function temp_function() {
	// do something
}

setTimeout(function(){

	var networkState = navigator.connection.type;

	/////START DOWNLOAD//////////////////////////////////////////////////////////////////////
	init_audio();

	$('.play_it').each( function(i) {
		//$(this).css("display","none");
		//alert("each");
		var temp_array = JSON.parse(window.localStorage.getItem('downloaded_files'));
		if($.inArray($.md5($(this).attr('online')),temp_array) != -1){
			$(this).removeClass("need_download").addClass("downloaded");
		}

	});
	$('.play_it').click( function(i) {
		temp_element = $(this);
		//alert($(this).attr('online'));
		//alert("click");
		//play_or_download('http://imamali.net/app-json/audio/aminalah.mp3','mp3');
		play_or_download($(this).attr('online'),"mp3");
	});



	if(window.localStorage.getItem('downloaded_files') == null){
		window.localStorage.setItem('downloaded_files',JSON.stringify(["786","110"]));	
	}


	if(window.localStorage.getItem('download_address') == null){

		window.requestFileSystem(LocalFileSystem.TEMPORARY, 0, 
			function(fs) {
				window.localStorage.setItem('download_address',fs.root.toURL());
			}, function(e) {
				//alert('failed to get fs');
				//alert(JSON.stringify(e));
			}
		);
	}

	//alert("window.localStorage.getItem('download_address'):" + window.localStorage.getItem('download_address'));
	//alert("window.localStorage.getItem('downloaded_files'):" + window.localStorage.getItem('downloaded_files'));
	/////END DOWNLOAD////////////////////////////////////////////////////////////////////////
	
}, 3000);
	
	
/////START DOWNLOAD//////////////////////////////////////////////////////////////////////
function play_or_download(URL,Extension) {
	//alert("play_or_download URL: " + URL);
	//alert("play_or_download Extension: " + Extension);

	if (device.platform == 'iOS')
	{
		downloadPath = "cdvfile://localhost/persistent/";
		window.localStorage.setItem('download_address',downloadPath);
	}

	downloadPath = window.localStorage.getItem('download_address') + $.md5(URL) + "." + Extension;
	//alert("play_or_download : " + downloadPath);
	if(temp_element.attr("play_type")=="offline")
	{
			//alert("play_or_download : play offline");

			playAudio_new(URL,false);
	}
	else
	{
		if(check_download(URL))
		{
			//alert("play_or_download : check_download");

			playAudio_new(downloadPath,true);
			//var media = new Media(downloadPath, null, function(e) { alert(JSON.stringify(e));});
			//media.play();
		}
		else
		{
			//alert("play_or_download : start_download");
			start_download(URL,Extension);
		}
	}
}

function start_download(URL,Extension) {
	//alert("start_download check internet");
	networkState = navigator.connection.type;
	if (networkState == Connection.NONE) {
		//alert("start_download : NO internet");
		notify('يجب عليك الاتصال بالانترنت', 'warning', 4000, 'bottom', 'Up', 'Down');
	}
	else{
		//alert("start_download : we have internet");

		//alert("start_download URL: " + URL);
		//alert("start_download Extension: " + Extension);

		var FileTransfer_OBJ = new FileTransfer();
		var uri = encodeURI(URL + "?" + Math.random());

		if (device.platform == 'iOS')
		{
			downloadPath = "cdvfile://localhost/persistent/";
			window.localStorage.setItem('download_address',downloadPath);
		}

		$('.progress-bar-parent').css("display","block");

		downloadPath = window.localStorage.getItem('download_address') + $.md5(URL) + "." + Extension;
		//alert("start_download : " + downloadPath);

		FileTransfer_OBJ.onprogress = function(progressEvent) {
			if (progressEvent.lengthComputable) {
				var perc = Math.floor(progressEvent.loaded / progressEvent.total * 100);
				$('#status').html(perc + "%");
				$('.progress-bar-percent').css('width',perc + "%");
				//progress_bar_element.css('width',perc);
			} else {
				$('#status').html($('#status').html() + ".");
				//progress_bar_element.css('width',progress_bar_element.width()+1);
				$('.progress-bar-percent').css('width',$('.progress-bar-parent').find('span').width()+1);
			}
		};

		FileTransfer_OBJ.download(uri, downloadPath, 
			function(entry) {	
				$('#status').html("");
				$('.progress-bar-parent').find('span').css('width','2%');
				//alert("start_download : done");
				temp_array = JSON.parse(window.localStorage.getItem('downloaded_files'));
				temp_array.push($.md5(URL));
				window.localStorage.setItem('downloaded_files',JSON.stringify(temp_array));	

				temp_element.removeClass("need_download");
				$('.progress-bar-parent').css("display","none");				
				$('#play').trigger("click");				
			}, 
			function(error) {
				//alert('Crap something went wrong...');	
				//alert(JSON.stringify(error));
				notify('فشل في تحميل الملف', 'error', 4000, 'bottom', 'Up', 'Down');
				$('.progress-bar-parent').find('span').css('width','2%');
				$('.progress-bar-percent').css('width',"");
				$('.progress-bar-parent').css("display","none");
			},
			true
		);

		$("#abort").click( function(i) {
			FileTransfer_OBJ.abort();
			$('.progress-bar-parent').find('span').css('width','2%');
			$('.progress-bar-percent').css('width',"");
			$('.progress-bar-parent').css("display","none");
		});

	}
}

function check_download(URL) {
	//alert("check_download URL: " + URL);
	var temp_array = JSON.parse(window.localStorage.getItem('downloaded_files'));
	//alert("check_download Extension: " + window.localStorage.getItem('downloaded_files'));
	if($.inArray($.md5(URL),temp_array) != -1)
	{
		//alert("check_download true");
		return true;
	}
	else
	{
		//alert("check_download false");
		return false;
	}
}
/////END DOWNLOAD////////////////////////////////////////////////////////////////////////
</script>

<script>
	function playAudio_new(filename,is_from_web) {
		$("#durationTimer").html("--:--");
		$("#audioTimer").html("00:00");

		audio.stop();
		setTimeout(function(){
			playAudio(filename,is_from_web);
		}, 600);
	}
</script>
<div id="smgroup_audio_player" >
		<span id="audioTimer" >00:00</span>&nbsp 
		<span id="durationTimer" >--:--</span>
		<div id="audioPosition" >
			<input type="range" name="slider" id="slider" disabled="disabled" value="0" min="0" max="60" style="padding:0;margin:0;" />
		</div>
		<div class="audio_btn">
			<input type="button" id="play" value="" class="play_it need_download" online="http://imamali.net/app-json/audio/aminalah.mp3" /><!--play_type="offline"-->
			<input type="button" id="play2" value="" />
			<input type="button" id="pause" value="" />
			<input type="button" id="stop" value="Stop" />
		</div>
</div>
<div class="progress-bar-parent">
	<div class="progress-bar green glow">
		<div id="status"></div>
		<span class="progress-bar-percent" style="width: 1%"></span>
		<div id="descripion">
			<div class="first">التحمیل</div>
		</div>
		<div id="abort_box"><input type="button" id="abort" value="إلغاء" /></div>
	</div>
</div>

<script>
//init_audio("audio/roze/0.mp3");

audio_Timer = $("#audioTimer");
duration_Timer = $("#durationTimer");
slider_Timer = $("#slider");

audio = null;
audioTimer = null;
pausePos = 0;

function init_audio(my_file){
	/*
	if (audio) {
		play_btn.css("display","block");
		play2_btn.css("display","none");
		pause_btn.css("display","none");

		slider_Timer.val(0);
		stopAudio();
	}
	*/
	// Phonegap is loaded and can be used
	play_btn = $("#play");
	play2_btn = $("#play2");
	pause_btn = $("#pause");
	stop_btn = $("#stop");
	slider_Timer = $("#slider");
	slider_range = slider_Timer;
/*
	play_btn.click(function(e){
		e.preventDefault();
		play_btn.css("display","none");
		pause_btn.css("display","block");
		slider_Timer.prop("disabled",false);
		playAudio(my_file);
	});
*/
	slider_Timer.on("change", function(){
		//play_btn.prop("disabled",false);
		//play2_btn.prop("disabled",false);
		//pause_btn.prop("disabled",true);
		play2_btn.css("display","block");
		pause_btn.css("display","none");

		pausePos = slider_Timer.val();
		formatTime(pausePos,audio_Timer);
		pauseAudio();
		formatTime(pausePos,audio_Timer);
		audio.seekTo(pausePos*1000);

		setTimeout(function(){
			pausePos = temp_pausePos;
			audio.seekTo(pausePos*1000);
			formatTime(pausePos,audio_Timer);
			slider_Timer.val(pausePos);
		}, 800);
	});

	pause_btn.click(function(){	
		play2_btn.css("display","block");
		pause_btn.css("display","none");

		pauseAudio();
	});

	play2_btn.click(function(){	
		pause_btn.css("display","block");
		play2_btn.css("display","none");		

		PausePlayAudio();
	});

	stop_btn.click(function(){
		play_btn.css("display","block");
		play2_btn.css("display","none");
		pause_btn.css("display","none");

		slider_Timer.val(0);
		stopAudio();
	});


	file = "audio/besmella.mp3";
	if ( device.platform == 'Android' ){//Android,iOS,win7=WinCE,win8=Win32NT
		file = "/android_asset/www/" + file;
	}
	audio = new Media(file, function(){ // success callback

	}, function(error){ // error callback
		//alert("code: "    + error.code    + "\n" + "message: " + error.message + "\n");
		//alert("code: "    + error.code    + "\n" + "message: " + error.message + "\n");
	});
}


function playAudio(file,is_from_web){
	//alert(file);

	if (is_from_web==false){//Android,iOS,win7=WinCE,win8=Win32NT
		file = file.replace("http://imamali.net/app-json/", "");
	}
	if ( device.platform == 'Android' && is_from_web==false ){//Android,iOS,win7=WinCE,win8=Win32NT
		file = "/android_asset/www/" + file;
	}
	//alert("2");
	if (audio) {
		//alert("3");
		audio.stop();
		//audio.release();
	}
	//alert("4");

	$("#smgroup_audio_player").show();
	play_btn.css("display","none");
	play2_btn.css("display","none");
	pause_btn.css("display","block");
	slider_Timer.prop("disabled",false);

	audio = new Media(file, function(){ // success callback
		//alert("playAudio():Audio Success");
		play_btn.css("display","block");
		play2_btn.css("display","none");
		pause_btn.css("display","none");

		slider_Timer.val(0);
		stopAudio();
	}, function(error){ // error callback
		//alert("code: "    + error.code    + "\n" + "message: " + error.message + "\n");
		//alert("code: "    + error.code    + "\n" + "message: " + error.message + "\n");
	});
	//alert("3");
	// get audio duration
	var duration = audio.getDuration();
	var duration_show = false;

	// set slider data
	if( duration > 0 ){
		formatTime(duration,duration_Timer);
		slider_Timer.attr( "max", Math.round(duration) );
		//slider_Timer.slider("refresh");
		slider_Timer.val(0);
		duration_show = true;
	}


	// play audio
	audio.play({ playAudioWhenScreenIsLocked : true });

	audio.seekTo(0);

	// update audio position every second
	if (audioTimer == null) {
		audioTimer = setInterval(function() {
			// get audio position
			audio.getCurrentPosition(
				function(position) { // get position success
					if (position > -1) {
						setAudioPosition(position);
					}
				}, function(e) { // get position error
					//alert("Error getting pos=" + e);
					//setAudioPosition(duration);
				}
			);
			if(!duration_show){
				duration = audio.getDuration();
				if( duration > 0 ){
					formatTime(duration,duration_Timer);
					slider_Timer.attr( "max", Math.round(duration) );
					//slider_Timer.slider("refresh");
					duration_show = true;
				}
			}
		}, 1000);
	}
}



function pauseAudio() {
	if (audio) {
		audio.pause();
	}
}

function PausePlayAudio() {
	if (audio) {
		audio.pause();
		audio.seekTo(pausePos*1000);
		audio.play();
	}
}

function stopAudio() {
	if (audio) {
		audio.stop();
		audio.release();
	}
	clearInterval(audioTimer);
	audioTimer = null;
	pausePos = 0;
	formatTime(0,audio_Timer);
}

function setAudioPosition(position) {
	pausePos = position;
	position = Math.round(position);
	slider_Timer.val(position);
	formatTime(position,audio_Timer);
	//slider_Timer.slider("refresh");
	//slider_Timer.val(0);
}

function formatTime(seconds,Timer) {
	if (seconds <= 0)
	{
		Timer.html("00:00");
		return;
	}	
	var minutes = Math.floor(seconds / 60);

	if (minutes < 10)
		minutes = "0" + minutes;

	seconds = seconds % 60;
	if (seconds < 10)
		seconds = "0" + seconds;
	seconds = Math.round(seconds);

	Timer.html(minutes + ":" + seconds);
};
</script>
		
		
