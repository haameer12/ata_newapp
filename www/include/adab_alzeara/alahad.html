<div class="inside_page">




	<div>
		<div class="inside_page_title" style="background-image:url(img/adab_title.png);">
			<span class="inside_page_loading"></span>
			<a href="#" onclick="$.afui.goBack();return false;">
				<span class="inside_page_back"></span>
			</a>
		</div>
		<div class="inside_page_content" id="adab_alzeara_content_page">

			<div class="nano">
				<div class="overthrow nano-content">		
			
			

					<div id="app-adab-alzeara-content">
					

					

					
					
						<h3 class="adab-alzeara-title">دعاء العهد</h3>
						<div class="adab-alzeara-text">
							
							
							
							
							
							<p><span style="color:#B22222">روي عن الصّادق (عليه السلام) انّه قال: من دعا الى الله تعالى أربعين صباحاً بهذا العهد كان من أنصار قائمنا، فإن مات قبله أخرجه الله تعالى من قبره وأعطاه بكلّ كلمة ألف حسنة ومَحا عنه ألف سيّئة، وهو هذا:</span></p>

							<p>اَللّـهُمَّ رَبَّ النُّورِ الْعَظيمِ، وَرَبَّ الْكُرْسِيِّ الرَّفيعِ، وَرَبَّ الْبَحْرِ الْمَسْجُورِ، وَمُنْزِلَ التَّوْراةِ وَالاِنْجيلِ وَالزَّبُورِ، وَرَبَّ الظِّلِّ وَالْحَرُورِ، وَمُنْزِلَ الْقُرْآنِ الْعَظيمِ، وَرَبَّ الْمَلائِكَةِ الْمُقَرَّبينَ وَالاَنْبِياءِ وَالْمُرْسَلينَ، اَللّـهُمَّ اِنّي اَسْاَلُكَ بِاِسْمِكَ الْكَريمِ، وَبِنُورِ وَجْهِكَ الْمُنيرِ وَمُلْكِكَ الْقَديمِ، يا حَيُّ يا قَيُّومُ اَسْاَلُكَ بِاسْمِكَ الَّذي اَشْرَقَتْ بِهِ السَّماواتُ وَالاَرَضُونَ، وَبِاسْمِكَ الَّذي يَصْلَحُ بِهِ الاَوَّلُونَ وَالاْخِرُونَ، يا حَيّاً قَبْلَ كُلِّ حَيٍّ وَيا حَيّاً بَعْدَ كُلِّ حَيٍّ وَيا حَيّاً حينَ لا حَيَّ يا مُحْيِيَ الْمَوْتى وَمُميتَ الاَحْياءِ، يا حَيُّ لا اِلـهَ اِلّا اَنْتَ، اَللّـهُمَّ بَلِّغْ مَوْلانَا الاِمامَ الْهادِيَ الْمَهْدِيَّ الْقائِمَ بِاَمْرِكَ صَلَواتُ اللهِ عَلَيْهِ وعَلى آبائِهِ الطّاهِرينَ عَنْ جَميعِ الْمُؤْمِنينَ وَالْمُؤْمِناتِ في مَشارِقِ الاَرْضِ وَمَغارِبِها سَهْلِها وَجَبَلِها وَبَرِّها وَبَحْرِها، وَعَنّي وَعَنْ والِدَيَّ مِنَ الصَّلَواتِ زِنَةَ عَرْشِ اللهِ وَمِدادَ كَلِماتِهِ، وَما اَحْصاهُ عِلْمُهُ وَاَحاطَ بِهِ كِتابُهُ، اَللّـهُمَّ اِنّي اُجَدِّدُ لَهُ في صَبيحَةِ يَوْمي هذا وَما عِشْتُ مِنْ اَيّامي عَهْداً وَعَقْداً وَبَيْعَةً لَهُ في عُنُقي، لا اَحُولُ عَنْها وَلا اَزُولُ اَبَداً، اَللّـهُمَّ اجْعَلْني مِنْ اَنْصارِهِ وَاَعْوانِهِ وَالذّابّينَ عَنْهُ وَالْمُسارِعينَ اِلَيْهِ في قَضاءِ حَوائِجِهِ، وَالْمُمْتَثِلينَ لاَِوامِرِهِ وَالُْمحامينَ عَنْهُ، وَالسّابِقينَ اِلى اِرادَتِهِ وَالْمُسْتَشْهَدينَ بَيْنَ يَدَيْهِ، اَللّـهُمَّ اِنْ حالَ بَيْني وَبَيْنَهُ الْمَوْتُ الَّذي جَعَلْتَهُ عَلى عِبادِكَ حَتْماً مَقْضِيّاً فَاَخْرِجْني مِنْ قَبْري مُؤْتَزِراً كَفَنى شاهِراً سَيْفي مُجَرِّداً قَناتي مُلَبِّياً دَعْوَةَ الدّاعي فِي الْحاضِرِ وَالْبادي، اَللّـهُمَّ اَرِنيِ الطَّلْعَةَ الرَّشيدَةَ، وَالْغُرَّةَ الْحَميدَةَ، وَاكْحُلْ ناظِري بِنَظْرَة منِّي اِلَيْهِ، وَعَجِّلْ فَرَجَهُ وَسَهِّلْ مَخْرَجَهُ، وَاَوْسِعْ مَنْهَجَهُ وَاسْلُكْ بي مَحَجَّتَهُ، وَاَنْفِذْ اَمْرَهُ وَاشْدُدْ اَزْرَهُ، وَاعْمُرِ اللّـهُمَّ بِهِ بِلادَكَ، وَاَحْيِ بِهِ عِبادَكَ، فَاِنَّكَ قُلْتَ وَقَوْلُكَ الْحَقُّ: (ظَهَرَ الْفَسادُ فِي الْبَرِّ وَالْبَحْرِ بِما كَسَبَتْ اَيْدِي النّاسِ)، فَاَظْهِرِ الّلهُمَّ لَنا وَلِيَّكَ وَابْنَ بِنْتِ نَبِيِّكَ الْمُسَمّى بِاسْمِ رَسُولِكَ حَتّى لا يَظْفَرَ بِشَيْء مِنَ الْباطِلِ إلّا مَزَّقَهُ، وَيُحِقَّ الْحَقَّ وَيُحَقِّقَهُ، وَاجْعَلْهُ اَللّـهُمَّ مَفْزَعاً لِمَظْلُومِ عِبادِكَ، وَناصِراً لِمَنْ لا يَجِدُ لَهُ ناصِراً غَيْرَكَ، وَمُجَدِّداً لِما عُطِّلَ مِنْ اَحْكامِ كِتابِكَ، وَمُشَيِّداً لِما وَرَدَ مِنْ اَعْلامِ دينِكَ وَسُنَنِ نَبِيِّكَ صَلَّى اللهُ عَلَيْهِ وَآلِهِ، وَاجْعَلْهُ اَللّـهُمَّ مِمَّنْ حَصَّنْتَهُ مِن بَأسِ الْمُعْتَدينَ، اَللّـهُمَّ وَسُرَّ نَبِيَّكَ مُحَمَّداً صَلَّى اللهُ عَلَيْهِ وَآلِهِ بِرُؤْيَتِهِ وَمَنْ تَبِعَهُ عَلى دَعْوَتِهِ، وَارْحَمِ اسْتِكانَتَنا بَعْدَهُ، اَللّـهُمَّ اكْشِفْ هذِهِ الْغُمَّةَ عَنْ هذِهِ الاُْمَّةِ بِحُضُورِهِ، وَعَجِّلْ لَنا ظُهُورَهُ، اِنَّهُمْ يَرَوْنَهُ بَعيداً وَنَراهُ قَريباً، بِرَحْمَتِـكَ يـا اَرْحَمَ الرّاحِمينَ.</p>

							<p><span style="color:#B22222">ثمّ تضرب على فخذك الايمن بيدك ثلاث مرّات وتقول كلّ مرّة: اَلْعَجَلَ الْعَجَلَ يا مَوْلايَ يا صاحِبَ الزَّمانِ.</span></p>
							<br /><br /><br /><br /><br />



							
							
							
						</div>
						
						
						
						
						
						

					</div>



			
				</div>
			</div>
		
		
		
			
		</div>
	</div>




</div>







<script>

	
function temp_function() {
	// do something
}
	
	
var mediaData = {
	alsabah : {
		temp_element : null,
		progress_bar_element : null,
		audio : null,
		audioTimer : null,
		pausePos : 0
	},
	alahad : {
		temp_element : null,
		progress_bar_element : null,
		audio : null,
		audioTimer : null,
		pausePos : 0
	}
}
	


setTimeout(function(){

	var networkState = navigator.connection.type;

	/////START DOWNLOAD//////////////////////////////////////////////////////////////////////
	init_audio("alahad", null);

	$('#alahad .play_it').each( function(i) {
		//$(this).css("display","none");
		//alert("each");
		var temp_array = JSON.parse(window.localStorage.getItem('downloaded_files'));
		if($.inArray($.md5($(this).attr('online')),temp_array) != -1){
			$(this).removeClass("need_download").addClass("downloaded");
		}

	});
	$('#alahad .play_it').click( function(i) {
		mediaData["alahad"].temp_element = $(this);
		//alert($(this).attr('online'));
		//alert("click");
		//play_or_download('alahad','http://imamali.net/app-json/audio/aminalah.mp3','mp3');
		play_or_download("alahad",$(this).attr('online'),"mp3");
	});



	if(window.localStorage.getItem('downloaded_files') == null){
		window.localStorage.setItem('downloaded_files',JSON.stringify(["786","110"]));	
	}


	if(window.localStorage.getItem('download_address') == null){

		window.requestFileSystem(LocalFileSystem.TEMPORARY, 0, 
			function(fs) {
				window.localStorage.setItem('download_address',fs.root.toURL());
			}, function(e) {
				//alert('failed to get fs');
				//alert(JSON.stringify(e));
			}
		);
	}

	//alert("window.localStorage.getItem('download_address'):" + window.localStorage.getItem('download_address'));
	//alert("window.localStorage.getItem('downloaded_files'):" + window.localStorage.getItem('downloaded_files'));
	/////END DOWNLOAD////////////////////////////////////////////////////////////////////////
	
}, 3000);
	
	
/////START DOWNLOAD//////////////////////////////////////////////////////////////////////
function play_or_download(MediaItemID,URL,Extension) {
	//alert("play_or_download URL: " + URL);
	//alert("play_or_download Extension: " + Extension);

	if (device.platform == 'iOS')
	{
		downloadPath = "cdvfile://localhost/persistent/";
		window.localStorage.setItem('download_address',downloadPath);
	}

	downloadPath = window.localStorage.getItem('download_address') + $.md5(URL) + "." + Extension;
	//alert("play_or_download : " + downloadPath);
	if(mediaData[MediaItemID].temp_element.attr("play_type")=="offline")
	{
			//alert("play_or_download : play offline");

			playAudio_new(MediaItemID,URL,false);
	}
	else
	{
		if(check_download(MediaItemID,URL))
		{
			//alert("play_or_download : check_download");

			playAudio_new(MediaItemID,downloadPath,true);
			//var media = new Media(downloadPath, null, function(e) { alert(JSON.stringify(e));});
			//media.play();
		}
		else
		{
			//alert("play_or_download : start_download");
			start_download(MediaItemID,URL,Extension);
		}
	}
}

function start_download(MediaItemID,URL,Extension) {
	//alert("start_download check internet");
	networkState = navigator.connection.type;
	if (networkState == Connection.NONE) {
		//alert("start_download : NO internet");
		notify('يجب عليك الاتصال بالانترنت', 'warning', 4000, 'bottom', 'Up', 'Down');
	}
	else{
		//alert("start_download : we have internet");

		//alert("start_download URL: " + URL);
		//alert("start_download Extension: " + Extension);

		var FileTransfer_OBJ = new FileTransfer();
		var uri = encodeURI(URL + "?" + Math.random());

		if (device.platform == 'iOS')
		{
			downloadPath = "cdvfile://localhost/persistent/";
			window.localStorage.setItem('download_address',downloadPath);
		}

		$('#'+MediaItemID +' .progress-bar-parent').css("display","block");

		downloadPath = window.localStorage.getItem('download_address') + $.md5(URL) + "." + Extension;
		//alert("start_download : " + downloadPath);

		FileTransfer_OBJ.onprogress = function(progressEvent) {
			if (progressEvent.lengthComputable) {
				var perc = Math.floor(progressEvent.loaded / progressEvent.total * 100);
				$('#'+MediaItemID +' .status').html(perc + "%");
				$('#'+MediaItemID +' .progress-bar-percent').css('width',perc + "%");
				//mediaData[MediaItemID].progress_bar_element.css('width',perc);
			} else {
				$('#'+MediaItemID +' .status').html($('#'+MediaItemID +' .status').html() + ".");
				//mediaData[MediaItemID].progress_bar_element.css('width',mediaData[MediaItemID].progress_bar_element.width()+1);
				$('#'+MediaItemID +' .progress-bar-percent').css('width',$('#'+MediaItemID +' .progress-bar-parent').find('span').width()+1);
			}
		};

		FileTransfer_OBJ.download(uri, downloadPath, 
			function(entry) {	
				$('#'+MediaItemID +' .status').html("");
				$('#'+MediaItemID +' .progress-bar-parent').find('span').css('width','2%');
				//alert("start_download : done");
				temp_array = JSON.parse(window.localStorage.getItem('downloaded_files'));
				temp_array.push($.md5(URL));
				window.localStorage.setItem('downloaded_files',JSON.stringify(temp_array));	

				mediaData[MediaItemID].temp_element.removeClass("need_download");
				$('#'+MediaItemID +' .progress-bar-parent').css("display","none");
				$('#'+MediaItemID +' .play').trigger("click");
			}, 
			function(error) {
				//alert('Crap something went wrong...');	
				//alert(JSON.stringify(error));
				notify('فشل في تحميل الملف', 'error', 4000, 'bottom', 'Up', 'Down');
				$('#'+MediaItemID +' .progress-bar-parent').find('span').css('width','2%');
				$('#'+MediaItemID +' .progress-bar-percent').css('width',"");
				$('#'+MediaItemID +' .progress-bar-parent').css("display","none");
			},
			true
		);

		$('#'+MediaItemID +' .abort').click( function(i) {
			FileTransfer_OBJ.abort();
			$('#'+MediaItemID +' .progress-bar-parent').find('span').css('width','2%');
			$('#'+MediaItemID +' .progress-bar-percent').css('width',"");
			$('#'+MediaItemID +' .progress-bar-parent').css("display","none");
		});

	}
}

function check_download(MediaItemID,URL) {
	//alert("check_download URL: " + URL);
	var temp_array = JSON.parse(window.localStorage.getItem('downloaded_files'));
	//alert("check_download Extension: " + window.localStorage.getItem('downloaded_files'));
	if($.inArray($.md5(URL),temp_array) != -1)
	{
		//alert("check_download true");
		return true;
	}
	else
	{
		//alert("check_download false");
		return false;
	}
}
/////END DOWNLOAD////////////////////////////////////////////////////////////////////////
</script>

<script>
	function playAudio_new(MediaItemID,filename,is_from_web) {
		$('#'+MediaItemID +' .durationTimer').html("--:--");
		$('#'+MediaItemID +' .audioTimer').html("00:00");

		mediaData[MediaItemID].audio.stop();
		setTimeout(function(){
			playAudio(MediaItemID,filename,is_from_web);
		}, 600);
	}
</script>
<div id="alahad">
	<div class="smgroup_audio_player" >
			<span class="audioTimer" >00:00</span>&nbsp 
			<span class="durationTimer" >--:--</span>
			<div class="audioPosition" >
				<input type="range" name="slider" class="slider" disabled="disabled" value="0" min="0" max="60" style="padding:0;margin:0;" />
			</div>
			<div class="audio_btn">
				<input type="button" id="" value="" class="play play_it need_download" online="http://imamali.net/app-json/audio/ahd.mp3" /><!--play_type="offline"-->
				<input type="button" class="play2" value="" />
				<input type="button" class="pause" value="" />
				<input type="button" class="stop" value="Stop" />
			</div>
	</div>
	<div class="progress-bar-parent">
		<div class="progress-bar green glow">
			<div class="status"></div>
			<span class="progress-bar-percent" style="width: 1%"></span>
			<div class="descripion">
				<div class="first">التحمیل</div>
			</div>
			<div class="abort_box"><input type="button" class="abort" value="إلغاء" /></div>
		</div>
	</div>
</div>
<script>
//init_audio("alahad", "audio/roze/0.mp3");


//slider_Timer = $("#alahad .slider");




/*var mediaData = {
	alsabah : {
		audio : null,
		audioTimer : null,
		pausePos : 0
	},
	alahad : {
		audio : null,
		audioTimer : null,
		pausePos : 0
	}
}*/


function init_audio(MediaItemID,my_file){
	/*
	if (mediaData[MediaItemID].audio) {
		$("#"+MediaItemID +" .play").css("display","block");
		$("#"+MediaItemID +" .play2").css("display","none");
		$("#"+MediaItemID +" .pause").css("display","none");

		slider_Timer.val(0);
		stopAudio(MediaItemID);
	}
	*/
	// Phonegap is loaded and can be used
	

	slider_Timer = $("#"+MediaItemID +" .slider");
	slider_range = slider_Timer;
/*
	$("#"+MediaItemID +" .play").click(function(e){
		e.preventDefault();
		$("#"+MediaItemID +" .play").css("display","none");
		$("#"+MediaItemID +" .pause").css("display","block");
		slider_Timer.prop("disabled",false);
		playAudio(MediaItemID,my_file);
	});
*/
	slider_Timer.on("change", function(){
		//$("#"+MediaItemID +" .play").prop("disabled",false);
		//$("#"+MediaItemID +" .play2").prop("disabled",false);
		//$("#"+MediaItemID +" .pause").prop("disabled",true);
		$("#"+MediaItemID +" .play2").css("display","block");
		$("#"+MediaItemID +" .pause").css("display","none");

		mediaData[MediaItemID].pausePos = slider_Timer.val();
		formatTime(mediaData[MediaItemID].pausePos,$("#"+MediaItemID +" .audioTimer"));
		pauseAudio(MediaItemID);
		formatTime(mediaData[MediaItemID].pausePos,$("#"+MediaItemID +" .audioTimer"));
		mediaData[MediaItemID].audio.seekTo(mediaData[MediaItemID].pausePos*1000);

		setTimeout(function(){
			mediaData[MediaItemID].pausePos = temp_pausePos;
			mediaData[MediaItemID].audio.seekTo(mediaData[MediaItemID].pausePos*1000);
			formatTime(mediaData[MediaItemID].pausePos,$("#"+MediaItemID +" .audioTimer"));
			slider_Timer.val(mediaData[MediaItemID].pausePos);
		}, 800);
	});

	$("#"+MediaItemID +" .pause").click(function(){	
		$("#"+MediaItemID +" .play2").css("display","block");
		$("#"+MediaItemID +" .pause").css("display","none");

		pauseAudio(MediaItemID);
	});

	$("#"+MediaItemID +" .play2").click(function(){	
		$("#"+MediaItemID +" .pause").css("display","block");
		$("#"+MediaItemID +" .play2").css("display","none");		

		PausePlayAudio(MediaItemID);
	});

	$("#"+MediaItemID +" .stop").click(function(){
		$("#"+MediaItemID +" .play").css("display","block");
		$("#"+MediaItemID +" .play2").css("display","none");
		$("#"+MediaItemID +" .pause").css("display","none");

		slider_Timer.val(0);
		stopAudio(MediaItemID);
	});


	file = "audio/besmella.mp3";
	if ( device.platform == 'Android' ){//Android,iOS,win7=WinCE,win8=Win32NT
		file = "/android_asset/www/" + file;
	}
	mediaData[MediaItemID].audio = new Media(file, function(){ // success callback

	}, function(error){ // error callback
		//alert("code: "    + error.code    + "\n" + "message: " + error.message + "\n");
		//alert("code: "    + error.code    + "\n" + "message: " + error.message + "\n");
	});
}


function playAudio(MediaItemID,file,is_from_web){
	//alert(file);
	
	slider_Timer = $("#"+MediaItemID +" .slider");

	if (is_from_web==false){//Android,iOS,win7=WinCE,win8=Win32NT
		file = file.replace("http://imamali.net/app-json/", "");
	}
	if ( device.platform == 'Android' && is_from_web==false ){//Android,iOS,win7=WinCE,win8=Win32NT
		file = "/android_asset/www/" + file;
	}
	//alert("2");
	if (mediaData[MediaItemID].audio) {
		//alert("3");
		mediaData[MediaItemID].audio.stop();
		//mediaData[MediaItemID].audio.release();
	}
	//alert("4");

	$('#'+MediaItemID +' .smgroup_audio_player').show();
	$("#"+MediaItemID +" .play").css("display","none");
	$("#"+MediaItemID +" .play2").css("display","none");
	$("#"+MediaItemID +" .pause").css("display","block");
	slider_Timer.prop("disabled",false);

	mediaData[MediaItemID].audio = new Media(file, function(){ // success callback
		//alert("playAudio():Audio Success");
		$("#"+MediaItemID +" .play").css("display","block");
		$("#"+MediaItemID +" .play2").css("display","none");
		$("#"+MediaItemID +" .pause").css("display","none");

		slider_Timer.val(0);
		stopAudio(MediaItemID);
	}, function(error){ // error callback
		//alert("code: "    + error.code    + "\n" + "message: " + error.message + "\n");
		//alert("code: "    + error.code    + "\n" + "message: " + error.message + "\n");
	});
	//alert("3");
	// get audio duration
	var duration = mediaData[MediaItemID].audio.getDuration();
	var duration_show = false;

	// set slider data
	if( duration > 0 ){
		formatTime(duration,$("#"+MediaItemID +" .durationTimer"));
		slider_Timer.attr( "max", Math.round(duration) );
		//slider_Timer.slider("refresh");
		slider_Timer.val(0);
		duration_show = true;
	}


	// play audio
	mediaData[MediaItemID].audio.play({ playAudioWhenScreenIsLocked : true });

	mediaData[MediaItemID].audio.seekTo(0);

	// update audio position every second
	if (mediaData[MediaItemID].audioTimer == null) {
		mediaData[MediaItemID].audioTimer = setInterval(function() {
			// get audio position
			mediaData[MediaItemID].audio.getCurrentPosition(
				function(position) { // get position success
					if (position > -1) {
						setAudioPosition(MediaItemID,position);
					}
				}, function(e) { // get position error
					//alert("Error getting pos=" + e);
					//setAudioPosition(MediaItemID,duration);
				}
			);
			if(!duration_show){
				duration = mediaData[MediaItemID].audio.getDuration();
				if( duration > 0 ){
					formatTime(duration,$("#"+MediaItemID +" .durationTimer"));
					slider_Timer.attr( "max", Math.round(duration) );
					//slider_Timer.slider("refresh");
					duration_show = true;
				}
			}
		}, 1000);
	}
}



function pauseAudio(MediaItemID) {
	if (mediaData[MediaItemID].audio) {
		mediaData[MediaItemID].audio.pause();
	}
}

function PausePlayAudio(MediaItemID) {
	if (mediaData[MediaItemID].audio) {
		mediaData[MediaItemID].audio.pause();
		mediaData[MediaItemID].audio.seekTo(mediaData[MediaItemID].pausePos*1000);
		mediaData[MediaItemID].audio.play();
	}
}

function stopAudio(MediaItemID) {
	if (mediaData[MediaItemID].audio) {
		mediaData[MediaItemID].audio.stop();
		mediaData[MediaItemID].audio.release();
	}
	clearInterval(mediaData[MediaItemID].audioTimer);
	mediaData[MediaItemID].audioTimer = null;
	mediaData[MediaItemID].pausePos = 0;
	formatTime(0,$("#"+MediaItemID +" .audioTimer"));
}

function setAudioPosition(MediaItemID,position) {
	
	slider_Timer = $("#"+MediaItemID +" .slider");
	
	mediaData[MediaItemID].pausePos = position;
	position = Math.round(position);
	slider_Timer.val(position);
	formatTime(position,$("#"+MediaItemID +" .audioTimer"));
	//slider_Timer.slider("refresh");
	//slider_Timer.val(0);
}

function formatTime(seconds,Timer) {
	if (seconds <= 0)
	{
		Timer.html("00:00");
		return;
	}	
	var minutes = Math.floor(seconds / 60);

	if (minutes < 10)
		minutes = "0" + minutes;

	seconds = seconds % 60;
	if (seconds < 10)
		seconds = "0" + seconds;
	seconds = Math.round(seconds);

	Timer.html(minutes + ":" + seconds);
};
</script>